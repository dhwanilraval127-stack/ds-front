// src/utils/contentTranslations.js

// Common phrases translation mapping
const contentTranslations = {
  // ==================== CAUSES / FACTORS ====================
  'Visible lesions or spots on leaves': {
    hi: 'पत्तियों पर दिखाई देने वाले घाव या धब्बे',
    gu: 'પાંદડા પર દેખાતા ઘા અથવા ડાઘ'
  },
  'Abnormal coloration': {
    hi: 'असामान्य रंग परिवर्तन',
    gu: 'અસામાન્ય રંગ પરિવર્તન'
  },
  'Possible fungal or bacterial infection': {
    hi: 'संभावित कवक या जीवाणु संक्रमण',
    gu: 'સંભવિત ફૂગ અથવા બેક્ટેરિયલ ચેપ'
  },
  'Fungal infection': {
    hi: 'कवक संक्रमण',
    gu: 'ફૂગનો ચેપ'
  },
  'Bacterial infection': {
    hi: 'जीवाणु संक्रमण',
    gu: 'બેક્ટેરિયલ ચેપ'
  },
  'Viral infection': {
    hi: 'वायरल संक्रमण',
    gu: 'વાયરલ ચેપ'
  },
  'Nutrient deficiency': {
    hi: 'पोषक तत्वों की कमी',
    gu: 'પોષક તત્વોની ઉણપ'
  },
  'Overwatering': {
    hi: 'अधिक पानी देना',
    gu: 'વધુ પડતું પાણી આપવું'
  },
  'Underwatering': {
    hi: 'कम पानी देना',
    gu: 'ઓછું પાણી આપવું'
  },
  'Poor drainage': {
    hi: 'खराब जल निकासी',
    gu: 'નબળી ડ્રેનેજ'
  },
  'High humidity': {
    hi: 'उच्च आर्द्रता',
    gu: 'ઉચ્ચ ભેજ'
  },
  'Low humidity': {
    hi: 'कम आर्द्रता',
    gu: 'ઓછો ભેજ'
  },
  'Pest infestation': {
    hi: 'कीट संक्रमण',
    gu: 'જંતુનો ઉપદ્રવ'
  },
  'Insect damage': {
    hi: 'कीड़ों से नुकसान',
    gu: 'જંતુઓથી નુકસાન'
  },
  'Environmental stress': {
    hi: 'पर्यावरणीय तनाव',
    gu: 'પર્યાવરણીય તણાવ'
  },
  'Temperature stress': {
    hi: 'तापमान तनाव',
    gu: 'તાપમાન તણાવ'
  },
  'Excess sunlight': {
    hi: 'अत्यधिक धूप',
    gu: 'વધુ પડતો સૂર્યપ્રકાશ'
  },
  'Lack of sunlight': {
    hi: 'धूप की कमी',
    gu: 'સૂર્યપ્રકાશનો અભાવ'
  },
  'Soil contamination': {
    hi: 'मिट्टी का संदूषण',
    gu: 'માટીનું દૂષણ'
  },
  'Infected seeds': {
    hi: 'संक्रमित बीज',
    gu: 'ચેપગ્રસ્ત બીજ'
  },
  'Spread from nearby infected plants': {
    hi: 'पास के संक्रमित पौधों से फैलाव',
    gu: 'નજીકના ચેપગ્રસ્ત છોડમાંથી ફેલાવો'
  },
  'Contaminated tools': {
    hi: 'दूषित उपकरण',
    gu: 'દૂષિત સાધનો'
  },
  'Wind-borne spores': {
    hi: 'हवा से फैलने वाले बीजाणु',
    gu: 'પવનથી ફેલાતા બીજાણુ'
  },
  'Water splash': {
    hi: 'पानी का छींटा',
    gu: 'પાણીના છાંટા'
  },
  'Yellowing of leaves': {
    hi: 'पत्तियों का पीला पड़ना',
    gu: 'પાંદડાનું પીળું પડવું'
  },
  'Brown spots on leaves': {
    hi: 'पत्तियों पर भूरे धब्बे',
    gu: 'પાંદડા પર ભૂરા ડાઘ'
  },
  'Wilting': {
    hi: 'मुरझाना',
    gu: 'કરમાવું'
  },
  'Leaf curl': {
    hi: 'पत्ती का मुड़ना',
    gu: 'પાંદડાનું વળવું'
  },
  'Stunted growth': {
    hi: 'विकास में रुकावट',
    gu: 'વૃદ્ધિમાં અવરોધ'
  },
  'Root rot': {
    hi: 'जड़ सड़न',
    gu: 'મૂળનો સડો'
  },

  // ==================== PREVENTION TIPS ====================
  'Remove affected leaves immediately': {
    hi: 'प्रभावित पत्तियों को तुरंत हटाएं',
    gu: 'અસરગ્રસ્ત પાંદડા તરત જ દૂર કરો'
  },
  'Improve air circulation': {
    hi: 'हवा का संचार बेहतर करें',
    gu: 'હવાનું પરિભ્રમણ સુધારો'
  },
  'Avoid overhead watering': {
    hi: 'ऊपर से पानी देने से बचें',
    gu: 'ઉપરથી પાણી આપવાનું ટાળો'
  },
  'Apply appropriate fungicide/pesticide': {
    hi: 'उचित फफूंदनाशक/कीटनाशक लगाएं',
    gu: 'યોગ્ય ફૂગનાશક/જંતુનાશક લગાવો'
  },
  'Apply appropriate fungicide': {
    hi: 'उचित फफूंदनाशक लगाएं',
    gu: 'યોગ્ય ફૂગનાશક લગાવો'
  },
  'Apply appropriate pesticide': {
    hi: 'उचित कीटनाशक लगाएं',
    gu: 'યોગ્ય જંતુનાશક લગાવો'
  },
  'Use disease-resistant varieties': {
    hi: 'रोग प्रतिरोधी किस्मों का उपयोग करें',
    gu: 'રોગ પ્રતિરોધક જાતોનો ઉપયોગ કરો'
  },
  'Maintain proper spacing between plants': {
    hi: 'पौधों के बीच उचित दूरी बनाए रखें',
    gu: 'છોડ વચ્ચે યોગ્ય અંતર જાળવો'
  },
  'Ensure proper drainage': {
    hi: 'उचित जल निकासी सुनिश्चित करें',
    gu: 'યોગ્ય ડ્રેનેજ સુનિશ્ચિત કરો'
  },
  'Water at the base of plants': {
    hi: 'पौधों के आधार पर पानी दें',
    gu: 'છોડના પાયા પર પાણી આપો'
  },
  'Remove and destroy infected plants': {
    hi: 'संक्रमित पौधों को हटाकर नष्ट करें',
    gu: 'ચેપગ્રસ્ત છોડને દૂર કરીને નાશ કરો'
  },
  'Use certified seeds': {
    hi: 'प्रमाणित बीजों का उपयोग करें',
    gu: 'પ્રમાણિત બીજનો ઉપયોગ કરો'
  },
  'Practice crop rotation': {
    hi: 'फसल चक्र का पालन करें',
    gu: 'પાક પરિભ્રમણનો અમલ કરો'
  },
  'Sanitize gardening tools': {
    hi: 'बागवानी उपकरणों को साफ करें',
    gu: 'બાગકામના સાધનો સાફ કરો'
  },
  'Avoid working with wet plants': {
    hi: 'गीले पौधों के साथ काम करने से बचें',
    gu: 'ભીના છોડ સાથે કામ કરવાનું ટાળો'
  },
  'Apply mulch around plants': {
    hi: 'पौधों के आसपास मल्च लगाएं',
    gu: 'છોડની આસપાસ મલ્ચ લગાવો'
  },
  'Remove weeds regularly': {
    hi: 'नियमित रूप से खरपतवार हटाएं',
    gu: 'નિયમિતપણે નીંદણ દૂર કરો'
  },
  'Provide adequate sunlight': {
    hi: 'पर्याप्त धूप प्रदान करें',
    gu: 'પૂરતો સૂર્યપ્રકાશ આપો'
  },
  'Avoid over-fertilization': {
    hi: 'अत्यधिक उर्वरक से बचें',
    gu: 'વધુ પડતું ખાતર આપવાનું ટાળો'
  },
  'Use organic pesticides': {
    hi: 'जैविक कीटनाशकों का उपयोग करें',
    gu: 'જૈવિક જંતુનાશકોનો ઉપયોગ કરો'
  },
  'Apply neem oil spray': {
    hi: 'नीम तेल का छिड़काव करें',
    gu: 'લીમડાના તેલનો છંટકાવ કરો'
  },
  'Maintain soil pH': {
    hi: 'मिट्टी का pH बनाए रखें',
    gu: 'માટીનું pH જાળવો'
  },
  'Add compost to soil': {
    hi: 'मिट्टी में खाद मिलाएं',
    gu: 'માટીમાં કમ્પોસ્ટ ઉમેરો'
  },
  'Ensure good air flow': {
    hi: 'अच्छा वायु प्रवाह सुनिश्चित करें',
    gu: 'સારો હવા પ્રવાહ સુનિશ્ચિત કરો'
  },
  'Prune overcrowded branches': {
    hi: 'भीड़ वाली शाखाओं की छंटाई करें',
    gu: 'ગીચ ડાળીઓની કાપણી કરો'
  },

  // ==================== NEXT STEPS ====================
  'Isolate affected plants': {
    hi: 'प्रभावित पौधों को अलग करें',
    gu: 'અસરગ્રસ્ત છોડને અલગ કરો'
  },
  'Consult local agriculture officer': {
    hi: 'स्थानीय कृषि अधिकारी से परामर्श करें',
    gu: 'સ્થાનિક કૃષિ અધિકારીની સલાહ લો'
  },
  'Apply recommended treatment': {
    hi: 'अनुशंसित उपचार लागू करें',
    gu: 'ભલામણ કરેલ સારવાર લાગુ કરો'
  },
  'Monitor other plants': {
    hi: 'अन्य पौधों की निगरानी करें',
    gu: 'અન્ય છોડનું નિરીક્ષણ કરો'
  },
  'Monitor plants regularly': {
    hi: 'नियमित रूप से पौधों की निगरानी करें',
    gu: 'નિયમિતપણે છોડનું નિરીક્ષણ કરો'
  },
  'Take photos for records': {
    hi: 'रिकॉर्ड के लिए फोटो लें',
    gu: 'રેકોર્ડ માટે ફોટા લો'
  },
  'Document the progression': {
    hi: 'प्रगति का दस्तावेजीकरण करें',
    gu: 'પ્રગતિનું દસ્તાવેજીકરણ કરો'
  },
  'Check nearby plants for infection': {
    hi: 'आस-पास के पौधों में संक्रमण की जांच करें',
    gu: 'નજીકના છોડમાં ચેપ માટે તપાસો'
  },
  'Prepare fungicide solution': {
    hi: 'फफूंदनाशक घोल तैयार करें',
    gu: 'ફૂગનાશક દ્રાવણ તૈયાર કરો'
  },
  'Spray in early morning or evening': {
    hi: 'सुबह जल्दी या शाम को छिड़काव करें',
    gu: 'વહેલી સવારે અથવા સાંજે છંટકાવ કરો'
  },
  'Repeat treatment after 7-10 days': {
    hi: '7-10 दिन बाद उपचार दोहराएं',
    gu: '7-10 દિવસ પછી સારવાર પુનરાવર્તિત કરો'
  },
  'Improve soil nutrition': {
    hi: 'मिट्टी के पोषण में सुधार करें',
    gu: 'માટીના પોષણમાં સુધારો કરો'
  },
  'Adjust watering schedule': {
    hi: 'पानी देने की अनुसूची समायोजित करें',
    gu: 'પાણી આપવાનો સમયપત્રક સમાયોજિત કરો'
  },
  'Consider replanting if severe': {
    hi: 'गंभीर होने पर पुनः रोपण पर विचार करें',
    gu: 'ગંભીર હોય તો ફરીથી વાવેતર કરવાનું વિચારો'
  },
  'Get soil tested': {
    hi: 'मिट्टी की जांच करवाएं',
    gu: 'માટીની તપાસ કરાવો'
  },
  'Visit nearest Krishi Vigyan Kendra': {
    hi: 'निकटतम कृषि विज्ञान केंद्र जाएं',
    gu: 'નજીકના કૃષિ વિજ્ઞાન કેન્દ્રની મુલાકાત લો'
  },
  'Contact agricultural helpline': {
    hi: 'कृषि हेल्पलाइन से संपर्क करें',
    gu: 'કૃષિ હેલ્પલાઇનનો સંપર્ક કરો'
  },

  // ==================== WHY EXPLANATIONS ====================
  'Disease detected based on visual symptoms like spots, discoloration, or abnormal growth.': {
    hi: 'धब्बे, रंग परिवर्तन, या असामान्य वृद्धि जैसे दृश्य लक्षणों के आधार पर रोग का पता चला।',
    gu: 'ડાઘ, રંગ પરિવર્તન, અથવા અસામાન્ય વૃદ્ધિ જેવા દૃશ્ય લક્ષણોના આધારે રોગ મળ્યો.'
  },
  'The plant shows signs of fungal infection.': {
    hi: 'पौधे में कवक संक्रमण के लक्षण दिखाई दे रहे हैं।',
    gu: 'છોડમાં ફૂગના ચેપના ચિહ્નો દેખાય છે.'
  },
  'The plant shows signs of bacterial infection.': {
    hi: 'पौधे में जीवाणु संक्रमण के लक्षण दिखाई दे रहे हैं।',
    gu: 'છોડમાં બેક્ટેરિયલ ચેપના ચિહ્નો દેખાય છે.'
  },
  'The plant shows signs of viral infection.': {
    hi: 'पौधे में वायरल संक्रमण के लक्षण दिखाई दे रहे हैं।',
    gu: 'છોડમાં વાયરલ ચેપના ચિહ્નો દેખાય છે.'
  },
  'The plant appears to be affected by environmental stress.': {
    hi: 'पौधा पर्यावरणीय तनाव से प्रभावित प्रतीत होता है।',
    gu: 'છોડ પર્યાવરણીય તણાવથી પ્રભાવિત હોવાનું જણાય છે.'
  },
  'The plant shows symptoms of nutrient deficiency.': {
    hi: 'पौधे में पोषक तत्वों की कमी के लक्षण दिखाई दे रहे हैं।',
    gu: 'છોડમાં પોષક તત્વોની ઉણપના લક્ષણો દેખાય છે.'
  },
  'Late blight is caused by the fungus-like organism Phytophthora infestans.': {
    hi: 'झुलसा रोग फाइटोफ्थोरा इन्फेस्टन्स नामक कवक जैसे जीव के कारण होता है।',
    gu: 'લેટ બ્લાઇટ ફાયટોફ્થોરા ઇન્ફેસ્ટન્સ નામના ફૂગ જેવા સજીવથી થાય છે.'
  },
  'Early blight is caused by the fungus Alternaria solani.': {
    hi: 'अगेती झुलसा रोग अल्टरनेरिया सोलानी कवक के कारण होता है।',
    gu: 'અર્લી બ્લાઇટ અલ્ટરનેરિયા સોલાની ફૂગને કારણે થાય છે.'
  },

  // ==================== TREATMENT OPTIONS ====================
  'Apply copper-based fungicide': {
    hi: 'तांबा आधारित फफूंदनाशक लगाएं',
    gu: 'તાંબા આધારિત ફૂગનાશક લગાવો'
  },
  'Use Mancozeb spray': {
    hi: 'मैंकोजेब स्प्रे का उपयोग करें',
    gu: 'મેન્કોઝેબ સ્પ્રેનો ઉપયોગ કરો'
  },
  'Apply Bordeaux mixture': {
    hi: 'बोर्डो मिश्रण लगाएं',
    gu: 'બોર્ડો મિશ્રણ લગાવો'
  },
  'Use systemic fungicide': {
    hi: 'प्रणालीगत फफूंदनाशक का उपयोग करें',
    gu: 'સિસ્ટેમિક ફૂગનાશકનો ઉપયોગ કરો'
  },
  'Apply Trichoderma-based biocontrol': {
    hi: 'ट्राइकोडर्मा आधारित जैव नियंत्रण लगाएं',
    gu: 'ટ્રાઇકોડર્મા આધારિત જૈવ નિયંત્રણ લગાવો'
  },
  'Spray neem oil solution': {
    hi: 'नीम तेल के घोल का छिड़काव करें',
    gu: 'લીમડાના તેલના દ્રાવણનો છંટકાવ કરો'
  },
  'Use insecticidal soap': {
    hi: 'कीटनाशक साबुन का उपयोग करें',
    gu: 'જંતુનાશક સાબુનો ઉપયોગ કરો'
  },
  'Apply potassium bicarbonate': {
    hi: 'पोटेशियम बाइकार्बोनेट लगाएं',
    gu: 'પોટેશિયમ બાયકાર્બોનેટ લગાવો'
  },

  // ==================== GENERAL PHRASES ====================
  'No issues detected': {
    hi: 'कोई समस्या नहीं मिली',
    gu: 'કોઈ સમસ્યા મળી નથી'
  },
  'Plant appears healthy': {
    hi: 'पौधा स्वस्थ दिखाई देता है',
    gu: 'છોડ સ્વસ્થ દેખાય છે'
  },
  'Continue regular care': {
    hi: 'नियमित देखभाल जारी रखें',
    gu: 'નિયમિત સંભાળ ચાલુ રાખો'
  },
  'Monitor for any changes': {
    hi: 'किसी भी बदलाव के लिए निगरानी करें',
    gu: 'કોઈપણ ફેરફાર માટે દેખરેખ રાખો'
  },
};

/**
 * Translate content to the specified language
 * @param {string} text - Text to translate
 * @param {string} language - Target language ('en', 'hi', 'gu')
 * @returns {string} - Translated text or original if translation not found
 */
export const translateContent = (text, language) => {
  if (!text || language === 'en') return text;
  
  // Trim the text for matching
  const trimmedText = text.trim();
  
  // Check exact match first
  if (contentTranslations[trimmedText]?.[language]) {
    return contentTranslations[trimmedText][language];
  }
  
  // Try case-insensitive match
  const lowerText = trimmedText.toLowerCase();
  for (const [key, translations] of Object.entries(contentTranslations)) {
    if (key.toLowerCase() === lowerText && translations[language]) {
      return translations[language];
    }
  }
  
  // Try partial match for longer texts
  for (const [key, translations] of Object.entries(contentTranslations)) {
    if (trimmedText.includes(key) && translations[language]) {
      return trimmedText.replace(key, translations[language]);
    }
  }
  
  // Return original if no translation found
  return text;
};

/**
 * Translate an array of content items
 * @param {string[]} items - Array of texts to translate
 * @param {string} language - Target language
 * @returns {string[]} - Array of translated texts
 */
export const translateContentArray = (items, language) => {
  if (!Array.isArray(items)) return [];
  return items.map(item => translateContent(item, language));
};

/**
 * Get all available translations for a text
 * @param {string} text - Text to get translations for
 * @returns {object} - Object with translations for all languages
 */
export const getAllTranslations = (text) => {
  const trimmedText = text?.trim();
  if (!trimmedText) return { en: text, hi: text, gu: text };
  
  const translations = contentTranslations[trimmedText];
  if (translations) {
    return {
      en: trimmedText,
      hi: translations.hi || trimmedText,
      gu: translations.gu || trimmedText
    };
  }
  
  return { en: text, hi: text, gu: text };
};

export default contentTranslations;